Search.setIndex({docnames:["conditions","entity","expressions","index","joins","legacy","query","query_visitors","readme_link","request","schema","schema_examples","sdk","snuba","visitors"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":3,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":2,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.intersphinx":1,"sphinx.ext.viewcode":1,sphinx:56},filenames:["conditions.rst","entity.rst","expressions.rst","index.rst","joins.rst","legacy.rst","query.rst","query_visitors.rst","readme_link.rst","request.rst","schema.rst","schema_examples.rst","sdk.rst","snuba.rst","visitors.rst"],objects:{"snuba_sdk.column":{Column:[2,1,1,""],InvalidColumnError:[2,4,1,""]},"snuba_sdk.column.Column":{entity:[2,2,1,""],key:[2,2,1,""],name:[2,2,1,""],subscriptable:[2,2,1,""],validate:[2,3,1,""],validate_data_model:[2,3,1,""]},"snuba_sdk.conditions":{And:[0,1,1,""],BooleanCondition:[0,1,1,""],BooleanOp:[0,1,1,""],Condition:[0,1,1,""],ConditionFunction:[0,1,1,""],InvalidConditionError:[0,4,1,""],Op:[0,1,1,""],Or:[0,1,1,""],get_first_level_and_conditions:[0,5,1,""],is_unary:[0,5,1,""]},"snuba_sdk.conditions.And":{conditions:[0,2,1,""],op:[0,2,1,""]},"snuba_sdk.conditions.BooleanCondition":{conditions:[0,2,1,""],op:[0,2,1,""],validate:[0,3,1,""]},"snuba_sdk.conditions.BooleanOp":{AND:[0,2,1,""],OR:[0,2,1,""]},"snuba_sdk.conditions.Condition":{lhs:[0,2,1,""],op:[0,2,1,""],rhs:[0,2,1,""],validate:[0,3,1,""]},"snuba_sdk.conditions.ConditionFunction":{EQ:[0,2,1,""],GT:[0,2,1,""],GTE:[0,2,1,""],IN:[0,2,1,""],IS_NOT_NULL:[0,2,1,""],IS_NULL:[0,2,1,""],LIKE:[0,2,1,""],LT:[0,2,1,""],LTE:[0,2,1,""],NEQ:[0,2,1,""],NOT_IN:[0,2,1,""],NOT_LIKE:[0,2,1,""]},"snuba_sdk.conditions.Op":{EQ:[0,2,1,""],GT:[0,2,1,""],GTE:[0,2,1,""],IN:[0,2,1,""],IS_NOT_NULL:[0,2,1,""],IS_NULL:[0,2,1,""],LIKE:[0,2,1,""],LT:[0,2,1,""],LTE:[0,2,1,""],NEQ:[0,2,1,""],NOT_IN:[0,2,1,""],NOT_LIKE:[0,2,1,""]},"snuba_sdk.conditions.Or":{conditions:[0,2,1,""],op:[0,2,1,""]},"snuba_sdk.entity":{Entity:[1,1,1,""],InvalidEntityError:[1,4,1,""],get_required_time_column:[1,5,1,""]},"snuba_sdk.entity.Entity":{alias:[1,2,1,""],data_model:[1,2,1,""],name:[1,2,1,""],sample:[1,2,1,""],validate:[1,3,1,""]},"snuba_sdk.expressions":{Expression:[2,1,1,""],Granularity:[2,1,1,""],InvalidArrayError:[2,4,1,""],InvalidExpressionError:[2,4,1,""],Limit:[2,1,1,""],Offset:[2,1,1,""],Totals:[2,1,1,""],is_literal:[2,5,1,""],is_scalar:[2,5,1,""]},"snuba_sdk.expressions.Expression":{validate:[2,3,1,""]},"snuba_sdk.expressions.Granularity":{granularity:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.expressions.Limit":{limit:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.expressions.Offset":{offset:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.expressions.Totals":{totals:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.function":{CurriedFunction:[2,1,1,""],Function:[2,1,1,""],Identifier:[2,1,1,""],InvalidFunctionError:[2,4,1,""],InvalidLambdaError:[2,4,1,""],Lambda:[2,1,1,""]},"snuba_sdk.function.CurriedFunction":{"function":[2,2,1,""],alias:[2,2,1,""],initializers:[2,2,1,""],parameters:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.function.Function":{initializers:[2,2,1,""]},"snuba_sdk.function.Identifier":{name:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.function.Lambda":{identifiers:[2,2,1,""],transformation:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.legacy":{is_condition:[5,5,1,""],json_to_snql:[5,5,1,""],parse_condition:[5,5,1,""],parse_condition_to_function:[5,5,1,""],parse_datetime:[5,5,1,""],parse_exp:[5,5,1,""],parse_extension_condition:[5,5,1,""],parse_scalar:[5,5,1,""],parse_string:[5,5,1,""]},"snuba_sdk.orderby":{Direction:[2,1,1,""],LimitBy:[2,1,1,""],OrderBy:[2,1,1,""],validate_sequence_of_type:[2,5,1,""]},"snuba_sdk.orderby.Direction":{ASC:[2,2,1,""],DESC:[2,2,1,""]},"snuba_sdk.orderby.LimitBy":{columns:[2,2,1,""],count:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.orderby.OrderBy":{direction:[2,2,1,""],exp:[2,2,1,""],validate:[2,3,1,""]},"snuba_sdk.query":{Query:[6,1,1,""],list_type:[6,5,1,""]},"snuba_sdk.query.Query":{array_join:[6,2,1,""],get_fields:[6,3,1,""],granularity:[6,2,1,""],groupby:[6,2,1,""],having:[6,2,1,""],limit:[6,2,1,""],limitby:[6,2,1,""],match:[6,2,1,""],offset:[6,2,1,""],orderby:[6,2,1,""],print:[6,3,1,""],select:[6,2,1,""],serialize:[6,3,1,""],set_array_join:[6,3,1,""],set_granularity:[6,3,1,""],set_groupby:[6,3,1,""],set_having:[6,3,1,""],set_limit:[6,3,1,""],set_limitby:[6,3,1,""],set_match:[6,3,1,""],set_offset:[6,3,1,""],set_orderby:[6,3,1,""],set_select:[6,3,1,""],set_totals:[6,3,1,""],set_where:[6,3,1,""],totals:[6,2,1,""],validate:[6,3,1,""],where:[6,2,1,""]},"snuba_sdk.query_visitors":{ExpressionSearcher:[7,1,1,""],InvalidQueryError:[7,4,1,""],Printer:[7,1,1,""],QueryVisitor:[7,1,1,""],Validator:[7,1,1,""],find_column_in_function:[7,5,1,""],is_aggregate:[7,5,1,""]},"snuba_sdk.query_visitors.Printer":{visit:[7,3,1,""]},"snuba_sdk.query_visitors.QueryVisitor":{visit:[7,3,1,""]},"snuba_sdk.relationships":{Join:[4,1,1,""],Relationship:[4,1,1,""]},"snuba_sdk.relationships.Join":{get_alias_mappings:[4,3,1,""],get_entities:[4,3,1,""],relationships:[4,2,1,""],validate:[4,3,1,""]},"snuba_sdk.relationships.Relationship":{lhs:[4,2,1,""],name:[4,2,1,""],rhs:[4,2,1,""],validate:[4,3,1,""]},"snuba_sdk.request":{Flags:[9,1,1,""],InvalidFlagError:[9,4,1,""],InvalidRequestError:[9,4,1,""],Request:[9,1,1,""]},"snuba_sdk.request.Flags":{consistent:[9,2,1,""],debug:[9,2,1,""],dry_run:[9,2,1,""],legacy:[9,2,1,""],to_dict:[9,3,1,""],totals:[9,2,1,""],turbo:[9,2,1,""],validate:[9,3,1,""]},"snuba_sdk.request.Request":{app_id:[9,2,1,""],dataset:[9,2,1,""],flags:[9,2,1,""],print:[9,3,1,""],query:[9,2,1,""],serialize:[9,3,1,""],to_dict:[9,3,1,""],validate:[9,3,1,""]},"snuba_sdk.schema":{Column:[10,1,1,""],ColumnSet:[10,1,1,""],EntityModel:[10,1,1,""]},"snuba_sdk.schema.Column":{name:[10,2,1,""],required:[10,2,1,""]},"snuba_sdk.schema.ColumnSet":{column_names:[10,2,1,""],columns:[10,2,1,""],contains:[10,3,1,""]},"snuba_sdk.schema.EntityModel":{column_set:[10,2,1,""],contains:[10,3,1,""],required_columns:[10,2,1,""],required_time_column:[10,2,1,""]},"snuba_sdk.snuba":{is_aggregation_function:[13,5,1,""]},"snuba_sdk.visitors":{ExpressionFinder:[14,1,1,""],ExpressionVisitor:[14,1,1,""],Translation:[14,1,1,""],entity_aliases:[14,5,1,""]},"snuba_sdk.visitors.ExpressionVisitor":{visit:[14,3,1,""]},snuba_sdk:{"function":[2,0,0,"-"],column:[2,0,0,"-"],conditions:[0,0,0,"-"],entity:[1,0,0,"-"],expressions:[2,0,0,"-"],legacy:[5,0,0,"-"],orderby:[2,0,0,"-"],query:[6,0,0,"-"],query_visitors:[7,0,0,"-"],relationships:[4,0,0,"-"],request:[9,0,0,"-"],schema:[10,0,0,"-"],snuba:[13,0,0,"-"],visitors:[14,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","attribute","Python attribute"],"3":["py","method","Python method"],"4":["py","exception","Python exception"],"5":["py","function","Python function"]},objtypes:{"0":"py:module","1":"py:class","2":"py:attribute","3":"py:method","4":"py:exception","5":"py:function"},terms:{"000000":[3,8],"01t00":[3,8],"2021":[3,8],"3600":[3,8],"abstract":2,"byte":[0,2],"class":[0,1,2,4,6,7,9,10,14],"enum":[0,2],"float":[0,1,2],"function":[0,2,3,5,6,7,8],"int":[0,2],"new":6,"null":0,"return":[0,1,2,4,5,6,7,9,10,14],"throw":[3,8],"true":[3,8,11],AND:[0,3,8],And:0,LHS:4,NOT:0,RHS:5,The:[2,4,5],abc:[2,7,14],aggregate_alias:7,alia:[1,2,4,11],alias:[4,13],aliased_express:6,aliasedexpress:6,all:11,allow:[2,3,8],alpha:2,also:[3,8],alwai:5,always_in:5,ani:[3,5,6,8,11],api:5,app_id:[3,8,9],appid:[3,8],appli:5,arg:[7,14],arrai:5,array_join:6,asc:2,attribut:[2,3,8],automat:5,base:[0,1,2,4,6,7,9,10,14],befor:6,being:5,between:4,bodi:5,bool:[0,2,5,6,7,9,10],booleancondit:[0,6],booleanop:0,both:[4,11],build:11,built:[3,8],call:[3,6,8],can:[2,3,8,11],check:5,claus:11,code:[3,6,8],col:5,collect:4,column:[0,2,3,4,5,6,7,8,10,11],column_nam:10,column_set:10,columnmodel:11,columnset:10,cond:5,cond_or_list:5,condit:[3,5,6,8,11,12],conditionfunct:0,connect:4,consist:[3,8,9],contain:[2,4,10],convers:12,convert:5,copi:6,correspond:[3,8],could:5,count:2,creat:[3,5,8],curriedfunct:[0,2,6],data:4,data_model:[1,11],databas:2,dataset:[3,8,9],date:[0,2,5],date_str:5,datetim:[0,2,3,5,8],debug:[3,8,9],defin:[4,11],desc:2,differ:[3,4,5,8],direct:2,directli:[3,8],discov:[3,8],document:[3,8],doe:[4,11],doesn:5,dry_run:9,either:4,entiti:[2,3,4,5,6,8,11,12],entity_alias:14,entity_nam:1,entitymodel:[1,10,11],enumer:[0,2],equal:0,equival:5,even:5,event:[3,8],event_id:[3,8],exampl:12,except:[0,1,2,3,5,7,8,9,11],exp:2,exp_typ:[7,14],expect:[2,5],explicit:5,express:[0,1,3,4,5,6,7,8,12,14],expressionfind:14,expressionsearch:7,expressionvisitor:14,extens:5,factori:[0,9],fals:[5,7,10,14],find_column_in_funct:7,first:11,flag:[3,8,9,11],form:2,format:[2,3,5,8],full:[3,8],func_nam:13,gener:[7,14],get_alias_map:4,get_ent:4,get_field:6,get_first_level_and_condit:0,get_required_time_column:1,granular:[2,3,6,8],greater:0,greaterorequ:0,groupbi:[3,6,8],gte:[0,11],has:[2,3,8],have:[4,6,11],here:[3,8],human:[3,8],identifi:2,immut:6,includ:11,incorrect:4,increment:[3,8],index:3,initi:2,inner:2,instanti:6,invalid:[2,3,5,6,8],invalidarrayerror:2,invalidcolumnerror:2,invalidconditionerror:0,invalidentityerror:1,invalidexpressionerror:[0,2,3,4,5,8],invalidflagerror:[3,8,9],invalidfunctionerror:2,invalidlambdaerror:2,invalidqueryerror:[3,5,7,8],invalidrequesterror:[3,5,8,9],is_aggreg:7,is_aggregation_funct:13,is_condit:5,is_inn:7,is_liter:2,is_not_nul:0,is_nul:0,is_scalar:2,is_unari:0,isnotnul:0,isnul:0,join:[5,6,11,12],json_to_snql:5,kei:2,kwd:[7,14],lambda:2,least:4,legaci:[9,12],less:0,lessorequ:0,level:11,lhs:[0,4],like:0,limit:[2,3,6,8],limitbi:[2,6],list:2,list_typ:6,lte:0,make:4,map:5,mark:11,match:[3,4,5,6,8,11],minimum_length:2,mit:[3,8],model:4,modul:3,more:[3,8],must:[4,6,11],myappid:[3,8],name:[1,2,4,5,10,11],necessari:5,neq:0,node:14,none:[0,1,2,4,6,7,9,11,13,14],not_in:0,not_lik:0,notequ:0,notin:0,notlik:0,now:11,number:[3,8],numer:2,object:[3,5,6,8,9,10],offset:[2,3,6,8],onc:[3,8],one:[4,5],only_str:5,option:[1,2,5,6],orderbi:[2,6],outer:2,output:[3,5,8],own:4,paramet:[2,4,5],parse_condit:5,parse_condition_to_funct:5,parse_datetim:5,parse_exp:5,parse_extension_condit:5,parse_scalar:5,parse_str:5,part:[3,8],pass:[5,11],pleas:[3,8],possibl:[5,6],pretti:7,print:[3,6,8,9],printer:7,problem:[3,8],programat:[3,8],project_id:[3,8],qualifi:4,queri:[4,5,8,9,11,12],query_visitor:7,queryvisitor:7,qvisit:7,rais:[2,4,5],readabl:[3,8],refer:[3,8,11],relationship:[4,6],represent:[2,3,4,6,8],request:[3,5,8,12],requir:[5,10,11],required1:11,required2:11,required_column:10,required_time_column:[10,11],respect:[3,8],rhs:[0,4],rst:[3,8],same:4,sampl:[1,11],scalar:[2,5],schema:[1,12],sdk:5,section:4,see:[3,8],select:[3,6,8],sent:[3,8],sequenc:[0,2,4,5,6],serial:[3,6,8,9],set:[6,7,10,14],set_array_join:6,set_granular:[3,6,8],set_groupbi:[3,6,8],set_hav:6,set_limit:[3,6,8],set_limitbi:6,set_match:6,set_offset:[3,6,8],set_orderbi:6,set_select:[3,6,8],set_tot:6,set_wher:[3,6,8],should:4,similarli:11,simpl:2,sinc:5,singl:[2,5],snql:[4,5,6,8],snuba:[4,8,12],snuba_sdk:[0,1,2,4,5,6,7,9,10,13,14],some:5,sourc:[0,1,2,4,5,6,7,9,10,13,14],specifi:[2,11],str:[0,1,2,4,5,6,7,9,10,14],string:[2,5],subqueri:5,subscript:2,support:[5,11],sure:4,take:5,target:[3,8],test1:11,test2:11,test:11,thei:6,them:6,thi:[3,4,5,8],thrown:[3,8,11],time:11,timestamp:[3,8],titl:[3,8],to_dict:9,todatetim:[3,8],too:5,tool:[3,8],top:11,total:[2,6,9],transform:2,translat:[3,6,8,14],tri:5,tupl:[2,3,8],turbo:9,tvisit:14,two:4,type:[0,1,2,4,5,6,7,9,10,14],type_class:6,under:[3,8],union:[0,2,6],uniq:[3,8],uniq_ev:[3,8],unlik:6,use:5,use_entity_alias:14,used:4,using:[4,5,11],val:[2,6],valid:[0,1,2,3,4,5,6,7,8,9,11],validate_data_model:2,validate_sequence_of_typ:2,valu:[0,2,5],valueerror:5,visit:[7,14],visitor:12,well:2,when:[3,8,11],where:[3,6,8],whether:5,which:[4,11],you:[2,11],your:11},titles:["Conditions","Entity","Expressions","SDK for generating SnQL queries for Snuba","Joins","Legacy Conversion","Query","Query Visitors","Status","Request","Schema","Schema Examples","&lt;no title&gt;","Snuba","Visitors"],titleterms:{condit:0,contribut:[3,8],convers:5,entiti:1,exampl:[3,8,11],express:2,gener:3,indic:3,join:4,legaci:5,licens:[3,8],queri:[3,6,7],request:9,schema:[10,11],sdk:[3,8,12],snql:3,snuba:[3,13],statu:[3,8],tabl:3,visitor:[7,14]}})